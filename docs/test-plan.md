# レッツゴーデベロッパーモバイル 料金計算システム テスト計画書

**作成日:** 2025-10-11
**バージョン:** 1.0
**プロジェクト:** レッツゴーデベロッパー 平成ジェネレーションズ FINAL

---

## 1. はじめに

### 1.1 目的
本ドキュメントは、レッツゴーデベロッパーモバイルの料金計算システムに対するテスト活動の計画を定義する。

### 1.2 対象システム
携帯電話料金計算システム
- 基本プラン、データ定額プラン、オプションサービスの組み合わせによる月額料金計算
- 各種割引の適用
- 日割り計算、消費税計算

### 1.3 参照ドキュメント
- [仕様書](https://github.com/5000dai/free-style-battle/blob/master/README.md)

---

## 2. テスト範囲

### 2.1 テスト対象機能
- ✅ 基本プラン選択（THE NEXT、変真、X）
- ✅ データ定額プラン選択（仮面データパックLL/L/M/S）
- ✅ 通話料金計算
- ✅ SMS料金計算
- ✅ データ通信量管理
- ✅ 日割り計算
- ✅ 長期契約割引、MNP割引
- ✅ 契約解除料
- ✅ オプションサービス
- ✅ データ関連オプション（繰り越し、増量、快適モード）
- ✅ 事務手数料
- ✅ 消費税計算

### 2.2 テスト対象外
- ❌ 端末代金
- ❌ 国際ローミング

---

## 3. テスト戦略

### 3.1 テストレベル
- **機能テスト:** 各機能の仕様適合性を確認
- **システムテスト:** E2Eシナリオでの総合動作確認
- **ネガティブテスト:** 異常系・エラーハンドリング

### 3.2 テスト技法
| テスト技法 | 適用箇所 |
|-----------|---------|
| 同値分割 | プラン選択、通話料金、SMS料金、オプション |
| 境界値分析 | 通話時間、SMS文字数、データ量、契約期間、日割り計算 |
| デシジョンテーブル | 通話料金、割引適用、契約解除料 |
| 状態遷移テスト | 割引期間、オプション無料期間、データ容量段階変化 |
| ペアワイズ法 | プラン組み合わせ |
| ユースケーステスト | E2Eシナリオ、初回請求合算 |
| エラー推測 | 異常系テスト |

### 3.3 テスト優先度
| 優先度 | 対象テスト | 実施タイミング |
|-------|----------|--------------|
| P0 | 基本機能、料金計算、割引、消費税 | 必須（最優先） |
| P1 | オプション、データ関連、異常系 | 推奨 |
| P2 | リグレッション | 仕様変更時 |

---

## 4. テストカテゴリ一覧

| # | テストカテゴリ | テスト観点 | 主なテスト技法 | テストタイプ | 優先度 | 推定ケース数 |
|---|-------------|-----------|--------------|------------|--------|------------|
| 1 | プラン選択 | 基本プランとデータプランの組み合わせが正しく選択・適用されること | ペアワイズ法、同値分割 | 機能テスト | P0 | 7〜10 |
| 2 | 通話料金計算 | 各プランの通話料金体系に基づいて正しく課金されること | 境界値分析、デシジョンテーブル | 機能テスト | P0 | 10〜12 |
| 3 | 無料通話対象外番号 | 特定番号（0180、0570等）でかけ放題プランでも課金されること | 同値分割 | 機能テスト | P0 | 5 |
| 4 | SMS料金計算 | 文字数に応じた通数計算と課金が正しく行われること | 境界値分析、同値分割 | 機能テスト | P1 | 8 |
| 5 | データ通信量 | データ使用量に応じた料金変動と速度制限が正しく適用されること | 境界値分析、状態遷移 | 機能テスト | P0 | 12 |
| 6 | 日割り計算 | 月途中の契約・解約時に日割り計算が正しく行われること | 境界値分析、同値分割 | 機能テスト | P0 | 15 |
| 7 | 割引適用ロジック | 長期契約割引・MNP割引が正しい期間に適用されること | 状態遷移、デシジョンテーブル | 機能テスト | P0 | 15 |
| 8 | 契約解除料 | 最低契約期間内の解除時に解除料が正しく課金されること | 境界値分析、デシジョンテーブル | 機能テスト | P0 | 9 |
| 9 | オプションサービス | オプション加入・無料期間・課金開始が正しく動作すること | 状態遷移、デシジョンテーブル | 機能テスト | P1 | 12 |
| 10 | データ関連オプション | データ繰り越し・増量・消費優先順位が正しく動作すること | 境界値分析、状態遷移 | 機能テスト | P1 | 10 |
| 11 | データ快適モード回数設定 | 自動増量回数の設定が正しく動作すること | 境界値分析、同値分割 | 機能テスト | P1 | 5 |
| 12 | 事務手数料 | 初回契約時に事務手数料が正しく課金されること | 同値分割 | 機能テスト | P1 | 4 |
| 13 | 初回請求合算 | 事務手数料が初回請求に正しく合算されること | ユースケーステスト | 機能テスト | P0 | 3 |
| 14 | 消費税計算 | 消費税の計算と四捨五入が正しく行われること | 境界値分析 | 機能テスト | P0 | 5 |
| 15 | E2Eシナリオ | 実際の利用シナリオで一連の処理が正しく動作すること | ユースケーステスト | システムテスト | P0 | 8〜10 |
| 16 | 異常系 | 不正入力や異常データが適切にハンドリングされること | エラー推測 | ネガティブテスト | P1 | 8 |
| 17 | リグレッション | 仕様変更後も既存機能が正しく動作すること | 既存ケース再実行 | リグレッションテスト | P2 | - |

**合計テストケース数:** 約136〜146ケース

---

## 5. テストスケジュール

| フェーズ | 内容 | 期間 |
|---------|------|------|
| テスト設計 | テストケース作成 | TBD |
| テスト実装 | テストコード実装 | TBD |
| テスト実行 | P0テスト実行 | TBD |
| テスト実行 | P1テスト実行 | TBD |
| 結果報告 | テスト結果レポート作成 | TBD |

---

## 6. 成果物

- ✅ テスト計画書（本ドキュメント）
- ⏳ テスト設計書
- ⏳ テストケース一覧
- ⏳ テスト実行結果レポート
- ⏳ バグレポート

---

## 7. リスクと前提条件

### 7.1 前提条件
- 仕様書（README.md）が最新であること
- 消費税率は仕様書記載時点のものを使用
- テスト環境が正常に動作すること

### 7.2 リスク
| リスク | 影響度 | 対策 |
|-------|-------|------|
| 仕様変更 | 高 | リグレッションテストの実施 |
| 複雑な計算ロジックのバグ | 高 | 境界値分析の徹底 |
| 組み合わせの爆発 | 中 | ペアワイズ法による削減 |

---

## 8. 承認

| 役割 | 氏名 | 日付 | 署名 |
|------|------|------|------|
| テスト設計者 | | | |
| レビュアー | | | |
| 承認者 | | | |
